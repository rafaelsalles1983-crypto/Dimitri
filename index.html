<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–°–ª–∞–≤—è–Ω—Å–∫–∏–π –∫–ª—É–±</title>
<link rel="stylesheet" href="style.css">

<!-- Firebase Scripts -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
  // Configura√ß√£o do Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyCVt4eQOSUMhtKTUc89lAIM-AwrPakEOOI",
    authDomain: "clube-eslavo-dimitri.firebaseapp.com",
    projectId: "clube-eslavo-dimitri",
    storageBucket: "clube-eslavo-dimitri.firebasestorage.app",
    messagingSenderId: "696802076277",
    appId: "1:696802076277:web:3be4a9fb64001e25cefa3c",
    measurementId: "G-1H63WPQT0V"
  };

  // Inicializa Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
</script>

<script>

</script>

<style>
/* Aqui voc√™ mant√©m todo o seu CSS existente, mascote, chat, neon, li√ß√µes bloqueadas, etc. */
</style>
</head>
<body>
<header>
  <span id="siteTitle">–°–ª–∞–≤—è–Ω—Å–∫–∏–π –∫–ª—É–±</span>
 	 <a href="#" id="logoutBtn" class="btn" style="opacity:0; transition:opacity 0.5s;">Sair</a>
	 <button id="languageToggle" style="margin-left:20px;">PT</button>

<!-- Bot√£o de Login para Chat -->
<button id="loginBtn" style="margin: 10px; padding: 10px 20px; font-size: 1em; border-radius: 8px; cursor: pointer; background-color: #4CAF50; color: white; border: none;">
  Login para Chat
</button>

<span id="welcomeUser" style="position:absolute; top:15px; right:20px; color:blue; font-weight:bold; display:none;"></span>
</header>

<script>
// Textos em Russo e Portugu√™s
const translations = {
  ru: {
    title: "–°–ª–∞–≤—è–Ω—Å–∫–∏–π –∫–ª—É–±",
    nav: {
    drag: "–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ",
    crossword: "–ü—Ä–æ–≥—Ä–µ—Å—Å",
    exercises: "–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è",
    whoare: "–ö—Ç–æ –º—ã",
    contact: "–ö–æ–Ω—Ç–∞–∫—Ç",
    dictionary: "–°–ª–æ–≤–∞—Ä—å"
},
    lessons: [
      "–ü—Ä–∏—Ç—è–∂–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ",
      "–ß–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ",
      "–ì–ª–∞–≥–æ–ª \"ser\" (–Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è)",
      "–ì–ª–∞–≥–æ–ª \"estar\" (–Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è)",
      "–ì–ª–∞–≥–æ–ª \"ser\" (–ø—Ä–æ—à–µ–¥—à–µ–µ –≤—Ä–µ–º—è)",
      "–ì–ª–∞–≥–æ–ª \"estar\" (–ø—Ä–æ—à–µ–¥—à–µ–µ –≤—Ä–µ–º—è)",
      "–ì–ª–∞–≥–æ–ª \"ser\" (–±—É–¥—É—â–µ–µ –≤—Ä–µ–º—è)",
      "–ì–ª–∞–≥–æ–ª \"estar\" (–±—É–¥—É—â–µ–µ –≤—Ä–µ–º—è)",
      "–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è",
      "–ü—Ä—è–º–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ",
      "–ù–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è",
      "–ò–Ω—Ñ–∏–Ω–∏—Ç–∏–≤",
      "–û–ø–∏—Å–∞–Ω–∏–µ –º–µ—Å—Ç",
      "–ü—Ä–æ—Ñ–µ—Å—Å–∏–∏",
      "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è",
      "–°–µ–º—å—è",
      "–ì–ª–∞–≥–æ–ª—ã –¥–≤–∏–∂–µ–Ω–∏—è",
      "–†–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ —Ñ—Ä–∞–∑—ã"
    ]
  },
  pt: {
    title: "Clube Eslavo",
  	nav: {
 	 drag: "Arrastar",
 	 crossword: "Progresso",
 	 exercises: "Exerc√≠cios",
 	 whoare: "Quem somos",
 	 contact: "Contato",
 	 dictionary: "Dicion√°rio"
},

    lessons: [
      "Adjetivos Possessivos",
      "Numerais",
      "Verbo \"ser\" (presente)",
      "Verbo \"estar\" (presente)",
      "Verbo \"ser\" (passado)",
      "Verbo \"estar\" (passado)",
      "Verbo \"ser\" (futuro)",
      "Verbo \"estar\" (futuro)",
      "Express√µes Quantitativas",
      "Objeto Direto",
      "Tempo Presente",
      "Infinitivo",
      "Descri√ß√£o de Lugares",
      "Profiss√µes",
      "Viagens",
      "Fam√≠lia",
      "Verbos de Movimento",
      "Frases de Conversa√ß√£o"
    ]
  }
};

let currentLang = 'ru';

document.getElementById('languageToggle').addEventListener('click', () => {
  currentLang = currentLang === 'ru' ? 'pt' : 'ru';
  updateLanguage();
});

function updateLanguage() {
  const lang = translations[currentLang];

  // T√≠tulo do site
  document.getElementById('siteTitle').textContent = lang.title;

  // Menu
  const navLinks = document.querySelectorAll('nav ul li a');
  navLinks[0].textContent = lang.nav.drag;
  navLinks[1].textContent = lang.nav.crossword;
  navLinks[2].textContent = lang.nav.exercises;

  // Lessons
  const lessonCards = document.querySelectorAll('.lesson-card');
  lessonCards.forEach((card, index) => {
    if(lang.lessons[index]) card.textContent = lang.lessons[index];
  });

  // Atualiza texto do bot√£o
  document.getElementById('languageToggle').textContent = currentLang === 'ru' ? 'PT' : 'RU';
}

// Inicializa idioma
updateLanguage();
</script>

<!-- Bot√£o para abrir menu -->
<button id="openMenuBtn" class="btn">‚ò∞ Abrir Menu</button>

<!-- Menu lateral -->
<nav id="sideMenu">
  <button id="closeMenuBtn">‚úñ Fechar Menu</button>
    <ul>
        <li><a href="#" onclick="saveChatState(); return false;">–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ</a></li>
        <li><a href="crossword.html" onclick="saveChatState()">–ø—Ä–æ–≥—Ä–µ—Å—Å</a></li>
        <li><a href="exercises.html" onclick="saveChatState()">—É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</a></li>
        <li><a href="jogoCores.html" onclick="saveChatState()">–ò–≥—Ä–∞ –¶–≤–µ—Ç–∞</a></li>
  	<li><a href="#" onclick="saveChatState(); return false;">–ö—Ç–æ –º—ã</a></li>
        <li><a href="contact.html" onclick="saveChatState()">–ö–æ–Ω—Ç–∞–∫—Ç</a></li>
	<li><a href="#" onclick="abrirDicionario(); return false;">—Å–ª–æ–≤√°—Ä—å</a></li>
    	</li>
    </ul>
</nav>

<div id="progress-container">
    <div id="progress-bar"></div>
</div>

<div id="overallProgress" class="progress-text">
    Progresso: 0 de 18 m√≥dulos conclu√≠dos
</div>


<!-- Modal de progresso -->
<div id="progressModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h2>Progresso dos Exerc√≠cios</h2>
    <div id="modalProgressText"></div>
    <div id="modalProgressBarContainer">
      <div id="modalProgressBar"></div>
    </div>
  </div>
</div>		



<div class="lesson-container">
    <div class="lesson-card" data-key="possessivos">–ü—Ä–∏—Ç—è–∂–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ</div>
    <div class="lesson-card locked" data-key="numerais">–ß–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ</div>
    <div class="lesson-card locked" data-key="verboSer">–ì–ª–∞–≥–æ–ª "ser" (–Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è)</div>
    <div class="lesson-card locked" data-key="verboEstar">–ì–ª–∞–≥–æ–ª "estar" (–Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è)</div>
    <div class="lesson-card locked" data-key="verboSerPassado">–ì–ª–∞–≥–æ–ª "ser" (–ø—Ä–æ—à–µ–¥—à–µ–µ –≤—Ä–µ–º—è)</div>
    <div class="lesson-card locked" data-key="verboEstarPassado">–ì–ª–∞–≥–æ–ª "estar" (–ø—Ä–æ—à–µ–¥—à–µ–µ –≤—Ä–µ–º—è)</div>
    <div class="lesson-card locked" data-key="verboSerFuturo">–ì–ª–∞–≥–æ–ª "ser" (–±—É–¥—É—â–µ–µ –≤—Ä–µ–º—è)</div>
    <div class="lesson-card locked" data-key="verboEstarFuturo">–ì–ª–∞–≥–æ–ª "estar" (–±—É–¥—É—â–µ–µ –≤—Ä–µ–º—è)</div>
    <div class="lesson-card locked" data-key="quantidades">–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è</div>
    <div class="lesson-card locked" data-key="objetoDireto">–ü—Ä—è–º–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
    <div class="lesson-card locked" data-key="tempoPresente">–ù–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è</div>
    <div class="lesson-card locked" data-key="infinitivo">–ò–Ω—Ñ–∏–Ω–∏—Ç–∏–≤</div>
    <div class="lesson-card locked" data-key="lugares">–û–ø–∏—Å–∞–Ω–∏–µ –º–µ—Å—Ç</div>
    <div class="lesson-card locked" data-key="profissoes">–ü—Ä–æ—Ñ–µ—Å—Å–∏–∏</div>
    <div class="lesson-card locked" data-key="viagem">–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</div>
    <div class="lesson-card locked" data-key="familia">–°–µ–º—å—è</div>
    <div class="lesson-card locked" data-key="verbosMovimento">–ì–ª–∞–≥–æ–ª—ã –¥–≤–∏–∂–µ–Ω–∏—è</div>
    <div class="lesson-card locked" data-key="FrasesDeConvercacao">–†–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ —Ñ—Ä–∞–∑—ã</div>   
</div>

<!-- Modal -->
<div class="modal" id="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <h2 id="modalTitle"></h2>
        <p id="modalPhrase" class="modal-phrase"></p>
        <div id="livesContainer"></div>
        <div id="wordBank"></div>
        <div id="assembledPhrase"></div>
        <div id="feedback"></div>
        <div id="resultImage"></div>
        <audio id="modalAudio" controls></audio>
    </div>
</div>






<!-- Mascote Dimitri + Frase de Parab√©ns -->
<div id="dimitri">
  <div class="head">
    <div class="ushanka">
      <div class="ear left"></div>
      <div class="ear right"></div>
    </div>
    <div class="eye left"></div>
    <div class="eye right"></div>
    <div class="eyebrow left"></div>
    <div class="eyebrow right"></div>
    <div class="mouth"></div>
  </div>
  <div class="body">
    <div class="arm left"></div>
    <div class="arm right"></div>
  </div>
</div>

<div id="congratsMessage">–ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è!</div>

<style>
/* Piscando neon */
@keyframes neonBlink {
  0%, 50%, 100% { text-shadow: 0 0 5px #0f0, 0 0 10px #0f0, 0 0 20px #0f0, 0 0 40px #0f0; opacity:1; }
  25%, 75% { text-shadow: none; opacity:0.6; }
}

#congratsMessage {
  display:none;
  font-size:3em;
  font-weight:bold;
  color:#0f0;
  text-align:center;
  margin-top:20px;
  animation: neonBlink 1s infinite;
  position: fixed;
  top: 40%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2000;
  pointer-events: none;
}

/* Mascote */
#dimitri {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 120px;
  height: 180px;
  z-index: 1000;
}
#dimitri .head {
  width: 80px;
  height: 80px;
  background: #ffcc99;
  border-radius: 50%;
  position: relative;
  margin: 0 auto;
  border: 2px solid #333;
}
.ushanka {
  width: 100%;
  height: 30px;
  background: #800000;
  position: absolute;
  top: -10px;
  border-radius: 50% 50% 0 0;
}
.ushanka .ear {
  width: 20px;
  height: 20px;
  background: #800000;
  position: absolute;
  top: 10px;
  border-radius: 50%;
}
.ushanka .ear.left { left: -10px; }
.ushanka .ear.right { right: -10px; }
#dimitri .eye {
  width: 15px;
  height: 15px;
  background: #000;
  border-radius: 50%;
  position: absolute;
  top: 25px;
  animation: blink 4s infinite;
}
#dimitri .eye.left { left: 18px; }
#dimitri .eye.right { right: 18px; }
#dimitri .eyebrow {
  width: 18px;
  height: 3px;
  background: #333;
  position: absolute;
  top: 18px;
}
#dimitri .eyebrow.left { left: 15px; transform: rotate(-10deg); }
#dimitri .eyebrow.right { right: 15px; transform: rotate(10deg); }
#dimitri .mouth {
  width: 40px;
  height: 10px;
  border-bottom: 3px solid #000;
  border-radius: 0 0 20px 20px;
  position: absolute;
  bottom: 15px;
  left: 50%;
  transform: translateX(-50%);
  transition: all 0.3s;
}
#dimitri .body {
  width: 70px;
  height: 80px;
  background: #0055aa;
  position: relative;
  margin: 0 auto;
  top: 10px;
  border-radius: 10px;
}
#dimitri .arm {
  width: 15px;
  height: 50px;
  background: #0055aa;
  position: absolute;
  top: 10px;
  border-radius: 10px;
  transform-origin: top center;
  transition: transform 0.3s;
}
#dimitri .arm.left { left: -15px; }
#dimitri .arm.right { right: -15px; }

/* Piscando olhos */
@keyframes blink {
  0%, 90%, 100% { height: 15px; }
  95% { height: 2px; }
}

/* Acenando e pulso corpo */
.acenando .arm.left { transform: rotate(-30deg); }
.acenando .arm.right { transform: rotate(30deg); }
.acenando .body { animation: pulse 0.3s infinite alternate; }
.triste .mouth {
  border-bottom: none;
  border-top: 3px solid #000;
  border-radius: 20px 20px 0 0;
}

/* Pulso corpo */
@keyframes pulse {
  0% { transform: scale(1); }
  100% { transform: scale(1.05); }
}

/* Neon do chap√©u e corpo */
.neon .body { animation: neonPulse 0.5s infinite alternate; }
.neon .ushanka { animation: neonPulse 0.5s infinite alternate; }
@keyframes neonPulse {
  0% { background-color: #0055aa; box-shadow: none; }
  50% { background-color: #0f0; box-shadow: 0 0 10px #0f0, 0 0 20px #0f0; }
  100% { background-color: #0055aa; box-shadow: none; }
}

.lesson-card.locked {
  pointer-events: none;
  opacity: 0.5;
  cursor: not-allowed;
}

/* Overlay geral */
.overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.8);
  z-index: 3000;
  overflow-y: auto;
}

/* Conte√∫do do overlay */
.overlay-content {
  background: #fff;
  margin: 50px auto;
  padding: 20px;
  border-radius: 10px;
  width: 90%;
  max-width: 900px;
  position: relative;
}

/* Bot√£o fechar */
.overlay .close-btn {
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 28px;
  font-weight: bold;
  color: #333;
  cursor: pointer;
  transition: color 0.3s;
}
.overlay .close-btn:hover {
  color: #000;
}



</style>

<script>
const dimitri = document.getElementById('dimitri');
const congratsMessage = document.getElementById('congratsMessage');

function dimitriAcena() {
  dimitri.classList.add('acenando');
  dimitri.classList.remove('triste');
  setTimeout(()=> dimitri.classList.remove('acenando'), 1200);
}

function dimitriTriste() {
  dimitri.classList.add('triste');
  setTimeout(()=> dimitri.classList.remove('triste'), 1200);
}

function dimitriNeonCelebration() {
  // Adiciona neon
  dimitri.classList.add('neon');
  congratsMessage.style.display = 'block';
  
  // Garante que anima√ß√£o seja aplicada
  const body = dimitri.querySelector('.body');
  const ushanka = dimitri.querySelector('.ushanka');
  body.style.animation = 'neonPulse 0.5s infinite alternate';
  ushanka.style.animation = 'neonPulse 0.5s infinite alternate';
  
  setTimeout(() => {
    dimitri.classList.remove('neon');
    congratsMessage.style.display = 'none';
    body.style.animation = '';
    ushanka.style.animation = '';
  }, 4000);
}

</script>




<script>




// Fun√ß√£o desbloqueia pr√≥ximo m√≥dulo
function unlockNextModule(currentKey) {
    const cards = document.querySelectorAll('.lesson-card');
    for (let i = 0; i < cards.length; i++) {
        if (cards[i].dataset.key === currentKey && i < cards.length - 1) {
            cards[i + 1].classList.remove('locked');
            break;
        }
    }
}



// Exemplo de integra√ß√£o com o seu quiz:
// se o usu√°rio completar a se√ß√£o com sucesso (percent>=70):
// dimitriNeonCelebration();
</script>



<div id="chat-container" class="chat-container">
  <div id="chat-messages" class="chat-messages"></div>
  <div class="chat-input-container">
    <input type="text" id="chat-input" placeholder="Digite sua mensagem..." />
    <button id="chat-send">Enviar</button>
  </div>
</div>



<script>
function addMessage(message, sender) {
    const container = document.getElementById('chat-messages');
    const div = document.createElement('div');
    div.className = 'chat-message ' + sender;

    if(sender === 'bot'){
        const avatar = document.createElement('div');
        avatar.className = 'avatar';
        avatar.textContent = 'B';
        div.appendChild(avatar);
    }

    const text = document.createElement('div');
    text.textContent = message;
    div.appendChild(text);

    container.appendChild(div);
    container.scrollTop = container.scrollHeight;
}






// Envio de mensagem
document.getElementById('chat-send').addEventListener('click', () => {
    const input = document.getElementById('chat-input');
    const msg = input.value.trim();
    if(msg === '') return;
    addMessage(msg, 'user');
    input.value = '';
    setTimeout(() => {
        addMessage("ü§ñ Resposta autom√°tica: " + msg, 'bot');
    }, 600);
});

// Envio com Enter
document.getElementById('chat-input').addEventListener('keypress', e => {
    if(e.key === 'Enter') document.getElementById('chat-send').click();
});
</script>




<script>
const chatMessages = document.getElementById("chat-messages");
const chatInput = document.getElementById("chat-input");
const chatSend = document.getElementById("chat-send");

function addMessage(text, sender="user") {
  const msg = document.createElement("div");
  msg.className = "chat-message " + sender;
  if (sender === "bot") {
    const avatar = document.createElement("div");
    avatar.className = "avatar";
    avatar.textContent = "AI";
    msg.appendChild(avatar);
  }
  const span = document.createElement("span");
  span.textContent = text;
  msg.appendChild(span);
  chatMessages.appendChild(msg);
  chatMessages.scrollTop = chatMessages.scrollHeight;
}

chatSend.addEventListener("click", async () => {
  const text = chatInput.value.trim();
  if (!text) return;

  addMessage(text, "user");
  chatInput.value = "";

  // Envia para o Flask
  const res = await fetch("/chat", {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({message: text})
  });
  const data = await res.json();
  addMessage(data.reply, "bot");
});
</script>


<!-- SCRIPTS finais -->


<script>
  document.addEventListener('DOMContentLoaded', () => {
    const logoutBtn = document.getElementById('logoutBtn');

    // Monitora login/logout
    auth.onAuthStateChanged(user => {
  if (user) {
    logoutBtn.style.display = 'inline-block';
    logoutBtn.style.opacity = '1';   // <-- torna vis√≠vel
  } else {
    logoutBtn.style.display = 'none';
    logoutBtn.style.opacity = '0';
  }
});


    // A√ß√£o de logout
    logoutBtn.addEventListener('click', () => {
      auth.signOut().then(() => {
        localStorage.removeItem('redirectAfterLogin');
        window.location.href = 'index.html';
      });
    });

    // --- chat ---
    const chatSend = document.getElementById('chat-send');
    const chatInput = document.getElementById('chat-input');

    // Desabilita chat se n√£o logado
    auth.onAuthStateChanged(user => {
      if (!user) {
        chatInput.disabled = true;
        chatInput.placeholder = "üîí Fa√ßa login para responder...";
        chatSend.disabled = true;
        chatSend.style.opacity = "0.5";
        chatSend.style.cursor = "not-allowed";
      } else {
        chatInput.disabled = false;
        chatInput.placeholder = "Digite sua mensagem...";
        chatSend.disabled = false;
        chatSend.style.opacity = "1";
        chatSend.style.cursor = "pointer";
      }
    });

    // Envio do chat (s√≥ se logado)
    chatSend.addEventListener('click', async () => {
      const text = chatInput.value.trim();
      if (!text) return;

      const user = auth.currentUser;
      if (!user) {
        localStorage.setItem('redirectAfterLogin', 'index.html');
        alert('Voc√™ precisa estar logado para usar o chat.');
        window.location.href = 'login.html';
        return;
      }

      addMessage(text, 'user');
      chatInput.value = '';

      try {
        const res = await fetch('/chat', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message: text })
        });
        if (res.ok) {
          const data = await res.json();
          addMessage(data.reply || 'Sem resposta do servidor.', 'bot');
        } else {
          addMessage('Erro no servidor: ' + res.status, 'bot');
        }
      } catch (err) {
        addMessage('ü§ñ Resposta autom√°tica (offline): ' + text, 'bot');
      }
    });

    chatInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') chatSend.click();
    });
  });
</script>



<script>
// Adiciona clique para abrir exerc√≠cio no overlay
document.addEventListener('DOMContentLoaded', () => {
    const lessonCards = document.querySelectorAll('.lesson-card:not(.locked)');
    
    lessonCards.forEach(card => {
        card.addEventListener('click', () => {
            const key = card.dataset.key;
            // Define o URL do exerc√≠cio baseado no key
            const url = key + '.html'; // Ex.: possessivos.html, numerais.html
            openOverlay(url);
        });
    });
});
</script>



<script src="script.js"></script>

<script>
function openOverlay(url) {
    const overlay = document.getElementById('overlayModal');
    const content = document.getElementById('overlayBody');

    fetch(url)
        .then(response => response.text())
        .then(html => {
            content.innerHTML = html;
            overlay.style.display = 'block';
        })
        .catch(err => console.error('Erro ao carregar overlay:', err));
}

function closeOverlay() {
    const overlay = document.getElementById('overlayModal');
    overlay.style.display = 'none';
    document.getElementById('overlayBody').innerHTML = '';
}

</script>

<!-- BOT√ÉO PARA ABRIR DICION√ÅRIO -->
<button onclick="abrirDicionario()">Abrir Dicion√°rio</button>

<!-- OVERLAY MODAL -->
<div id="overlayModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.7); z-index:1000; justify-content:center; align-items:center;">
    <div id="overlayBody" style="background:white; width:80%; max-width:700px; max-height:80%; padding:20px; border-radius:10px; overflow-y:auto; position:relative;">
        <button onclick="fecharDicionario()" style="position:absolute; top:10px; right:10px; background:red; color:white; border:none; border-radius:5px; padding:5px 10px; cursor:pointer;">Fechar</button>
        <!-- O conte√∫do do dicion√°rio ser√° injetado aqui -->
    </div>
</div>

<script>
function abrirDicionario() {
    const overlay = document.getElementById('overlayModal');
    const content = document.getElementById('overlayBody');

    content.innerHTML = `
        <button onclick="fecharDicionario()" style="position:absolute; top:10px; right:10px; background:red; color:white; border:none; border-radius:5px; padding:5px 10px; cursor:pointer;">Fechar</button>

        <h2>–°–ª–æ–≤√°—Ä—å ‚Äî Dicion√°rio Russo-Portugu√™s</h2>

        <h3>1. Cumprimentos e Express√µes B√°sicas</h3>
        <ul>
            <li>–ü—Ä–∏–≤–µ—Ç ‚Äî Ol√°</li>
            <li>–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ ‚Äî Bom dia</li>
            <li>–î–æ–±—Ä—ã–π –¥–µ–Ω—å ‚Äî Boa tarde</li>
            <li>–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä ‚Äî Boa noite</li>
            <li>–ü–æ–∫–∞ ‚Äî Tchau</li>
            <li>–î–æ —Å–≤–∏–¥–∞–Ω–∏—è ‚Äî Adeus</li>
            <li>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ ‚Äî Por favor</li>
            <li>–°–ø–∞—Å–∏–±–æ ‚Äî Obrigado</li>
            <li>–ë–æ–ª—å—à–æ–µ —Å–ø–∞—Å–∏–±–æ ‚Äî Muito obrigado</li>
            <li>–ò–∑–≤–∏–Ω–∏—Ç–µ ‚Äî Desculpe</li>
            <li>–ü—Ä–æ—à—É –ø—Ä–æ—â–µ–Ω–∏—è ‚Äî Pe√ßo desculpa</li>
            <li>–ù–∏—á–µ–≥–æ ‚Äî De nada</li>
            <li>–ö–∞–∫ –¥–µ–ª–∞? ‚Äî Como vai?</li>
            <li>–•–æ—Ä–æ—à–æ ‚Äî Bem</li>
            <li>–ü–ª–æ—Ö–æ ‚Äî Mal</li>
            <li>–¢–∞–∫ —Å–µ–±–µ ‚Äî Mais ou menos</li>
            <li>–†–∞–¥ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å ‚Äî Prazer em ver voc√™</li>
            <li>–ü—Ä–∏—è—Ç–Ω–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è ‚Äî Prazer em conhecer</li>
            <li>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å ‚Äî Bem-vindo</li>
            <li>–°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏ ‚Äî Boa noite (ao se despedir)</li>
        </ul>

        <h3>2. Perguntas Comuns</h3>
        <ul>
            <li>–ß—Ç–æ —ç—Ç–æ? ‚Äî O que √© isto?</li>
            <li>–ö—Ç–æ —ç—Ç–æ? ‚Äî Quem √©?</li>
            <li>–ì–¥–µ —Ç—É–∞–ª–µ—Ç? ‚Äî Onde fica o banheiro?</li>
            <li>–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç? ‚Äî Quanto custa?</li>
            <li>–ö–æ–≥–¥–∞? ‚Äî Quando?</li>
            <li>–ü–æ—á–µ–º—É? ‚Äî Por que?</li>
            <li>–ö–∞–∫? ‚Äî Como?</li>
            <li>–ö—Ç–æ? ‚Äî Quem?</li>
            <li>–ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å? ‚Äî O que aconteceu?</li>
            <li>–í—ã –≥–æ–≤–æ—Ä–∏—Ç–µ –ø–æ-—Ä—É—Å—Å–∫–∏? ‚Äî Voc√™ fala russo?</li>
            <li>–í—ã –≥–æ–≤–æ—Ä–∏—Ç–µ –ø–æ-–ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏? ‚Äî Voc√™ fala portugu√™s?</li>
            <li>–ú–æ–∂–µ—Ç–µ –ø–æ–º–æ—á—å? ‚Äî Pode ajudar?</li>
            <li>–ß—Ç–æ –≤—ã –ø–æ—Å–æ–≤–µ—Ç—É–µ—Ç–µ? ‚Äî O que voc√™ recomenda?</li>
            <li>–ì–¥–µ —è –º–æ–≥—É –Ω–∞–π—Ç–∏‚Ä¶? ‚Äî Onde posso encontrar‚Ä¶?</li>
            <li>–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏? ‚Äî Que horas s√£o?</li>
            <li>–ö–∞–∫ –ø—Ä–æ–π—Ç–∏ –∫‚Ä¶? ‚Äî Como chegar a‚Ä¶?</li>
            <li>–ú–æ–∂–Ω–æ –ª–∏‚Ä¶? ‚Äî √â poss√≠vel‚Ä¶?</li>
            <li>–ö–∞–∫–∞—è —Ü–µ–Ω–∞? ‚Äî Qual √© o pre√ßo?</li>
            <li>–ú–æ–∂–Ω–æ –ª–∏ –ø–ª–∞—Ç–∏—Ç—å –∫–∞—Ä—Ç–æ–π? ‚Äî Posso pagar com cart√£o?</li>
            <li>–ï—Å—Ç—å –ª–∏ –∑–¥–µ—Å—å Wi-Fi? ‚Äî H√° Wi-Fi aqui?</li>
        </ul>

        <h3>3. N√∫meros B√°sicos</h3>
        <ul>
            <li>–û–¥–∏–Ω ‚Äî Um</li>
            <li>–î–≤–∞ ‚Äî Dois</li>
            <li>–¢—Ä–∏ ‚Äî Tr√™s</li>
            <li>–ß–µ—Ç—ã—Ä–µ ‚Äî Quatro</li>
            <li>–ü—è—Ç—å ‚Äî Cinco</li>
            <li>–®–µ—Å—Ç—å ‚Äî Seis</li>
            <li>–°–µ–º—å ‚Äî Sete</li>
            <li>–í–æ—Å–µ–º—å ‚Äî Oito</li>
            <li>–î–µ–≤—è—Ç—å ‚Äî Nove</li>
            <li>–î–µ—Å—è—Ç—å ‚Äî Dez</li>
            <li>–û–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç—å ‚Äî Onze</li>
            <li>–î–≤–µ–Ω–∞–¥—Ü–∞—Ç—å ‚Äî Doze</li>
            <li>–¢—Ä–∏–Ω–∞–¥—Ü–∞—Ç—å ‚Äî Treze</li>
            <li>–ß–µ—Ç—ã—Ä–Ω–∞–¥—Ü–∞—Ç—å ‚Äî Quatorze</li>
            <li>–ü—è—Ç–Ω–∞–¥—Ü–∞—Ç—å ‚Äî Quinze</li>
            <li>–®–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç—å ‚Äî Dezesseis</li>
            <li>–°–µ–º–Ω–∞–¥—Ü–∞—Ç—å ‚Äî Dezessete</li>
            <li>–í–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç—å ‚Äî Dezoito</li>
            <li>–î–µ–≤—è—Ç–Ω–∞–¥—Ü–∞—Ç—å ‚Äî Dezenove</li>
            <li>–î–≤–∞–¥—Ü–∞—Ç—å ‚Äî Vinte</li>
        </ul>

        <h3>4. Cores</h3>
        <ul>
            <li>–ö—Ä–∞—Å–Ω—ã–π ‚Äî Vermelho</li>
            <li>–°–∏–Ω–∏–π ‚Äî Azul</li>
            <li>–ó–µ–ª—ë–Ω—ã–π ‚Äî Verde</li>
            <li>–ñ—ë–ª—Ç—ã–π ‚Äî Amarelo</li>
            <li>–ß—ë—Ä–Ω—ã–π ‚Äî Preto</li>
            <li>–ë–µ–ª—ã–π ‚Äî Branco</li>
            <li>–°–µ—Ä—ã–π ‚Äî Cinza</li>
            <li>–û—Ä–∞–Ω–∂–µ–≤—ã–π ‚Äî Laranja</li>
            <li>–§–∏–æ–ª–µ—Ç–æ–≤—ã–π ‚Äî Roxo</li>
            <li>–†–æ–∑–æ–≤—ã–π ‚Äî Rosa</li>
            <li>–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π ‚Äî Marrom</li>
            <li>–ì–æ–ª—É–±–æ–π ‚Äî Azul claro</li>
            <li>–¢—ë–º–Ω–æ-—Å–∏–Ω–∏–π ‚Äî Azul escuro</li>
            <li>–ë–µ–∂–µ–≤—ã–π ‚Äî Bege</li>
            <li>–ë–∏—Ä—é–∑–æ–≤—ã–π ‚Äî Turquesa</li>
            <li>–õ–∞–π–º–æ–≤—ã–π ‚Äî Verde lim√£o</li>
            <li>–ó–æ–ª–æ—Ç–æ–π ‚Äî Dourado</li>
            <li>–°–µ—Ä–µ–±—Ä—è–Ω—ã–π ‚Äî Prateado</li>
            <li>–ë–æ—Ä–¥–æ–≤—ã–π ‚Äî Bord√¥</li>
            <li>–ú–∞–ª–∏–Ω–æ–≤—ã–π ‚Äî Framboesa</li>
        </ul>

        <h3>5. Frases √öteis no Dia a Dia</h3>
        <ul>
            <li>–Ø –Ω–µ –ø–æ–Ω–∏–º–∞—é ‚Äî N√£o entendo</li>
            <li>–ì–æ–≤–æ—Ä–∏—Ç–µ –º–µ–¥–ª–µ–Ω–Ω–µ–µ ‚Äî Fale mais devagar</li>
            <li>–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ ‚Äî Repita, por favor</li>
            <li>–ú–æ–∂–µ—Ç–µ –ø–æ–º–æ—á—å? ‚Äî Pode ajudar?</li>
            <li>–Ø —Ö–æ—á—É‚Ä¶ ‚Äî Eu quero‚Ä¶</li>
            <li>–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è‚Ä¶? ‚Äî Onde fica‚Ä¶?</li>
            <li>–ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ‚Ä¶? ‚Äî Como chegar a‚Ä¶?</li>
            <li>–ú–æ–∂–Ω–æ –ª–∏‚Ä¶? ‚Äî √â poss√≠vel‚Ä¶?</li>
            <li>–Ø –ø–æ—Ç–µ—Ä—è–ª—Å—è ‚Äî Estou perdido</li>
            <li>–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç? ‚Äî Quanto custa?</li>
            <li>–ú–æ–∂–Ω–æ –æ–ø–ª–∞—Ç–∏—Ç—å –∫–∞—Ä—Ç–æ–π? ‚Äî Posso pagar com cart√£o?</li>
            <li>–ï—Å—Ç—å –ª–∏ –∑–¥–µ—Å—å Wi-Fi? ‚Äî Tem Wi-Fi aqui?</li>
            <li>–Ø –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–ª ‚Äî Eu reservei</li>
            <li>–ú–æ–∂–µ—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å —Ä–µ—Å—Ç–æ—Ä–∞–Ω? ‚Äî Pode recomendar um restaurante?</li>
            <li>–Ø –≤–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω–µ—Ü ‚Äî Sou vegetariano</li>
            <li>–ú–Ω–µ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å ‚Äî Preciso de ajuda</li>
            <li>–ì–¥–µ –±–ª–∏–∂–∞–π—à–∞—è –∞–ø—Ç–µ–∫–∞? ‚Äî Onde fica a farm√°cia mais pr√≥xima?</li>
            <li>–Ø –Ω–µ –≥–æ–≤–æ—Ä—é –ø–æ-–ø–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏ ‚Äî N√£o falo portugu√™s</li>
            <li>–ö–∞–∫ —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è? ‚Äî Como se chama isso?</li>
            <li>–ú–æ–∂–Ω–æ –ª–∏ –º–Ω–µ –º–µ–Ω—é, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞? ‚Äî Posso ver o card√°pio, por favor?</li>
        </ul>
    `;

    overlay.style.display = 'flex';
}

function fecharDicionario() {
    document.getElementById('overlayModal').style.display = 'none';
}
</script>

<script>
const loginBtn = document.getElementById('loginBtn');

loginBtn.addEventListener('click', () => {
  const user = auth.currentUser;
  if (!user) {
    // Armazena a p√°gina atual para redirecionar ap√≥s login
    localStorage.setItem('redirectAfterLogin', 'index.html');
    window.location.href = 'login.html';
  } else {
    alert('Voc√™ j√° est√° logado e pode usar o chat!');
  }
});
</script>



<!-- Modal de sobreposi√ß√£o -->
<div id="overlayModal" class="overlay">
  <div class="overlay-content">
    <span class="close-btn" onclick="closeOverlay()">&times;</span>
    <div id="overlayBody"></div>
  </div>
</div>

</body>
</html>
