<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–°–ª–∞–≤—è–Ω—Å–∫–∏–π –∫–ª—É–±</title>
<link rel="stylesheet" href="style.css">

<!-- Firebase Scripts -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
  // Configura√ß√£o do Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyCVt4eQOSUMhtKTUc89lAIM-AwrPakEOOI",
    authDomain: "clube-eslavo-dimitri.firebaseapp.com",
    projectId: "clube-eslavo-dimitri",
    storageBucket: "clube-eslavo-dimitri.firebasestorage.app",
    messagingSenderId: "696802076277",
    appId: "1:696802076277:web:3be4a9fb64001e25cefa3c",
    measurementId: "G-1H63WPQT0V"
  };

  // Inicializa Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
</script>

<style>
/* ====== MENU ====== */
nav {
  background-color: #eee;
  padding: 10px;
}

nav ul {
  list-style: none;
  display: flex;
  gap: 15px;
  margin:0; padding:0;
}

nav ul li a {
  text-decoration: none;
  color: #333;
}

/* Menu oculto no celular */
@media screen and (max-width: 768px) {
  nav {
    display: none;
    position: absolute;
    top: 60px;
    left: 0;
    width: 100%;
    background-color: #eee;
    padding: 10px 0;
    z-index: 1000;
  }

  nav ul {
    flex-direction: column;
    align-items: center;
  }

  nav.show {
    display: block;
  }
}

/* ====== CHAT ====== */
.chat-container {
  position: fixed;
  bottom: 0;
  right: 20px;
  width: 300px;
  max-height: 400px;
  background: #fff;
  border: 1px solid #ccc;
  border-radius: 10px;
  display: flex;
  flex-direction: column;
  z-index: 1500;
}

.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 10px;
}

.chat-input-container {
  display: flex;
  gap: 5px;
  padding: 5px;
}

.chat-message {
  margin-bottom: 5px;
}

.chat-message.bot {
  color: #0a0;
}

.chat-message.user {
  color: #00a;
}

.avatar {
  display: inline-block;
  width: 20px;
  font-weight: bold;
  margin-right: 5px;
}

/* ====== MASCOTE ====== */
#dimitri {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 120px;
  height: 180px;
  z-index: 1000;
}
#dimitri .head {
  width: 80px;
  height: 80px;
  background: #ffcc99;
  border-radius: 50%;
  position: relative;
  margin: 0 auto;
  border: 2px solid #333;
}
.ushanka {
  width: 100%;
  height: 30px;
  background: #800000;
  position: absolute;
  top: -10px;
  border-radius: 50% 50% 0 0;
}
.ushanka .ear {
  width: 20px;
  height: 20px;
  background: #800000;
  position: absolute;
  top: 10px;
  border-radius: 50%;
}
.ushanka .ear.left { left: -10px; }
.ushanka .ear.right { right: -10px; }
#dimitri .eye {
  width: 15px;
  height: 15px;
  background: #000;
  border-radius: 50%;
  position: absolute;
  top: 25px;
  animation: blink 4s infinite;
}
#dimitri .eye.left { left: 18px; }
#dimitri .eye.right { right: 18px; }
#dimitri .eyebrow {
  width: 18px;
  height: 3px;
  background: #333;
  position: absolute;
  top: 18px;
}
#dimitri .eyebrow.left { left: 15px; transform: rotate(-10deg); }
#dimitri .eyebrow.right { right: 15px; transform: rotate(10deg); }
#dimitri .mouth {
  width: 40px;
  height: 10px;
  border-bottom: 3px solid #000;
  border-radius: 0 0 20px 20px;
  position: absolute;
  bottom: 15px;
  left: 50%;
  transform: translateX(-50%);
  transition: all 0.3s;
}
#dimitri .body {
  width: 70px;
  height: 80px;
  background: #0055aa;
  position: relative;
  margin: 0 auto;
  top: 10px;
  border-radius: 10px;
}
#dimitri .arm {
  width: 15px;
  height: 50px;
  background: #0055aa;
  position: absolute;
  top: 10px;
  border-radius: 10px;
  transform-origin: top center;
  transition: transform 0.3s;
}
#dimitri .arm.left { left: -15px; }
#dimitri .arm.right { right: -15px; }

@keyframes blink {
  0%,90%,100% { height:15px; }
  95% { height:2px; }
}

.acenando .arm.left { transform: rotate(-30deg); }
.acenando .arm.right { transform: rotate(30deg); }
.acenando .body { animation: pulse 0.3s infinite alternate; }
.triste .mouth { border-bottom:none; border-top:3px solid #000; border-radius:20px 20px 0 0; }

@keyframes pulse {
  0% { transform: scale(1); }
  100% { transform: scale(1.05); }
}

.neon .body { animation: neonPulse 0.5s infinite alternate; }
.neon .ushanka { animation: neonPulse 0.5s infinite alternate; }
@keyframes neonPulse {
  0% { background-color:#0055aa; box-shadow:none; }
  50% { background-color:#0f0; box-shadow:0 0 10px #0f0,0 0 20px #0f0; }
  100% { background-color:#0055aa; box-shadow:none; }
}

/* ====== CONGRATS ====== */
@keyframes neonBlink {
  0%,50%,100% { text-shadow:0 0 5px #0f0,0 0 10px #0f0,0 0 20px #0f0,0 0 40px #0f0; opacity:1; }
  25%,75% { text-shadow:none; opacity:0.6; }
}
#congratsMessage {
  display:none;
  font-size:3em;
  font-weight:bold;
  color:#0f0;
  text-align:center;
  margin-top:20px;
  animation: neonBlink 1s infinite;
  position: fixed;
  top: 40%;
  left: 50%;
  transform: translate(-50%,-50%);
  z-index: 2000;
  pointer-events:none;
}

/* ====== MODALS E OVERLAYS ====== */
.overlay {
  display: none;
  position: fixed;
  top:0; left:0;
  width:100%; height:100%;
  background: rgba(0,0,0,0.7);
  z-index: 3000;
  overflow-y: auto;
  justify-content: center;
  align-items: center;
}

.overlay-content {
  background: #fff;
  margin: 50px auto;
  padding: 20px;
  border-radius: 10px;
  width: 90%;
  max-width: 900px;
  position: relative;
}

.overlay .close-btn {
  position: absolute;
  top: 10px; right: 15px;
  font-size: 28px;
  font-weight: bold;
  color: #333;
  cursor: pointer;
  transition: color 0.3s;
}
.overlay .close-btn:hover { color:#000; }

.lesson-card.locked {
  pointer-events: none;
  opacity: 0.5;
  cursor: not-allowed;
}

/* ====== PROGRESS ====== */
#progress-container { width: 90%; height: 20px; background:#ddd; margin:10px auto; border-radius:10px; }
#progress-bar { width:0; height:100%; background:#4caf50; border-radius:10px; }
.progress-text { text-align:center; margin-bottom:10px; }

/* ====== LI√á√ïES ====== */
.lesson-container { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin:20px 0; }
.lesson-card { background:#f0f0f0; padding:15px; border-radius:10px; cursor:pointer; min-width:150px; text-align:center; }
</style>

</head>
<body>
<header>
  <span id="siteTitle">–°–ª–∞–≤—è–Ω—Å–∫–∏–π –∫–ª—É–±</span>
  <a href="#" id="logoutBtn" class="btn" style="opacity:0; transition:opacity 0.5s;">Sair</a>
  <button id="languageToggle" style="margin-left:20px;">PT</button>
  <button id="menu-toggle">‚ò∞</button>
</header>

<!-- SIDEBAR MENU -->
<nav id="sidebar">
  <ul>
    <li><a href="#">–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ</a></li>
    <li><a href="crossword.html">–ü—Ä–æ–≥—Ä–µ—Å—Å</a></li>
    <li><a href="exercises.html">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</a></li>
    <li><a href="jogoCores.html">–ò–≥—Ä–∞ –¶–≤–µ—Ç–∞</a></li>
    <li><a href="#">–ö—Ç–æ –º—ã</a></li>
    <li><a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç</a></li>
    <li><a href="#" onclick="abrirDicionario(); return false;">–°–ª–æ–≤√°—Ä—å</a></li>
  </ul>
</nav>

<!-- PROGRESSO -->
<div id="progress-container">
    <div id="progress-bar"></div>
</div>
<div id="overallProgress" class="progress-text">
    Progresso: 0 de 18 m√≥dulos conclu√≠dos
</div>

<!-- LI√á√ïES -->
<div class="lesson-container">
    <div class="lesson-card" data-key="possessivos">–ü—Ä–∏—Ç—è–∂–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ</div>
    <div class="lesson-card locked" data-key="numerais">–ß–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ</div>
    <div class="lesson-card locked" data-key="verboSer">–ì–ª–∞–≥–æ–ª "ser" (–Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è)</div>
    <div class="lesson-card locked" data-key="verboEstar">–ì–ª–∞–≥–æ–ª "estar" (–Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è)</div>
    <div class="lesson-card locked" data-key="verboSerPassado">–ì–ª–∞–≥–æ–ª "ser" (–ø—Ä–æ—à–µ–¥—à–µ–µ –≤—Ä–µ–º—è)</div>
    <div class="lesson-card locked" data-key="verboEstarPassado">–ì–ª–∞–≥–æ–ª "estar" (–ø—Ä–æ—à–µ–¥—à–µ–µ –≤—Ä–µ–º—è)</div>
    <div class="lesson-card locked" data-key="verboSerFuturo">–ì–ª–∞–≥–æ–ª "ser" (–±—É–¥—É—â–µ–µ –≤—Ä–µ–º—è)</div>
    <div class="lesson-card locked" data-key="verboEstarFuturo">–ì–ª–∞–≥–æ–ª "estar" (–±—É–¥—É—â–µ–µ –≤—Ä–µ–º—è)</div>
    <div class="lesson-card locked" data-key="quantidades">–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è</div>
    <div class="lesson-card locked" data-key="objetoDireto">–ü—Ä—è–º–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
    <div class="lesson-card locked" data-key="tempoPresente">–ù–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è</div>
    <div class="lesson-card locked" data-key="infinitivo">–ò–Ω—Ñ–∏–Ω–∏—Ç–∏–≤</div>
    <div class="lesson-card locked" data-key="lugares">–û–ø–∏—Å–∞–Ω–∏–µ –º–µ—Å—Ç</div>
    <div class="lesson-card locked" data-key="profissoes">–ü—Ä–æ—Ñ–µ—Å—Å–∏–∏</div>
    <div class="lesson-card locked" data-key="viagem">–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</div>
    <div class="lesson-card locked" data-key="familia">–°–µ–º—å—è</div>
    <div class="lesson-card locked" data-key="verbosMovimento">–ì–ª–∞–≥–æ–ª—ã –¥–≤–∏–∂–µ–Ω–∏—è</div>
    <div class="lesson-card locked" data-key="FrasesDeConvercacao">–†–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ —Ñ—Ä–∞–∑—ã</div>   
</div>

<!-- MASCOTE -->
<div id="dimitri">
  <div class="head">
    <div class="ushanka">
      <div class="ear left"></div>
      <div class="ear right"></div>
    </div>
    <div class="eye left"></div>
    <div class="eye right"></div>
    <div class="eyebrow left"></div>
    <div class="eyebrow right"></div>
    <div class="mouth"></div>
  </div>
  <div class="body">
    <div class="arm left"></div>
    <div class="arm right"></div>
  </div>
</div>
<div id="congratsMessage">–ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è!</div>

<!-- CHAT -->
<div id="chat-container" class="chat-container">
  <div id="chat-messages" class="chat-messages"></div>
  <div class="chat-input-container">
    <input type="text" id="chat-input" placeholder="Digite sua mensagem...">
    <button id="chat-send">Enviar</button>
  </div>
</div>

<!-- OVERLAY PARA EXERCICIOS -->
<div id="overlayExerciseModal" class="overlay">
  <div class="overlay-content">
    <span class="close-btn" onclick="closeOverlay('overlayExerciseModal')">&times;</span>
    <div id="exerciseContent"></div>
  </div>
</div>

<!-- OVERLAY PARA DICION√ÅRIO -->
<div id="overlayDictionaryModal" class="overlay">
  <div class="overlay-content">
    <span class="close-btn" onclick="closeOverlay('overlayDictionaryModal')">&times;</span>
    <div id="dictionaryContent"></div>
  </div>
</div>

<script>
/* ====== MENU MOBILE ====== */
const menuToggle = document.getElementById('menu-toggle');
const sidebar = document.getElementById('sidebar');
menuToggle.addEventListener('click', () => sidebar.classList.toggle('show'));

/* ====== DICIONARIO ====== */
function abrirDicionario() {
  document.getElementById('overlayDictionaryModal').style.display = 'flex';
  document.getElementById('dictionaryContent').innerHTML = '<h2>Dicion√°rio Russo-Portugu√™s</h2><p>Aqui voc√™ pode pesquisar palavras...</p>';
}

function closeOverlay(modalId) {
  document.getElementById(modalId).style.display = 'none';
}

/* ====== CHAT ====== */
const chatContainer = document.getElementById('chat-container');
const chatMessages = document.getElementById('chat-messages');
const chatInput = document.getElementById('chat-input');
const chatSend = document.getElementById('chat-send');

function addMessage(sender, text) {
  const msgDiv = document.createElement('div');
  msgDiv.classList.add('chat-message', sender);
  msgDiv.innerHTML = `<span class="avatar">${sender === 'bot' ? 'ü§ñ' : 'üë§'}</span> ${text}`;
  chatMessages.appendChild(msgDiv);
  chatMessages.scrollTop = chatMessages.scrollHeight;
}

chatSend.addEventListener('click', () => {
  const text = chatInput.value.trim();
  if (!text) return;
  addMessage('user', text);
  chatInput.value = '';
  setTimeout(() => addMessage('bot', '–û—Ç–≤–µ—Ç –±–æ—Ç–∞: ' + text), 800);
});

/* ====== LI√á√ïES ====== */
const lessonCards = document.querySelectorAll('.lesson-card');
lessonCards.forEach(card => {
  card.addEventListener('click', () => {
    if(card.classList.contains('locked')) return;
    document.getElementById('exerciseContent').innerHTML = `<h2>${card.textContent}</h2><p>Conte√∫do da li√ß√£o...</p>`;
    document.getElementById('overlayExerciseModal').style.display = 'flex';
  });
});

/* ====== PROGRESSO ====== */
let totalModules = lessonCards.length;
let completedModules = 0;

function updateProgress() {
  const progressBar = document.getElementById('progress-bar');
  const progressText = document.getElementById('overallProgress');
  const progressPercent = (completedModules / totalModules) * 100;
  progressBar.style.width = progressPercent + '%';
  progressText.textContent = `Progresso: ${completedModules} de ${totalModules} m√≥dulos conclu√≠dos`;

  if (completedModules === totalModules) {
    document.getElementById('congratsMessage').style.display = 'block';
    setTimeout(() => document.getElementById('congratsMessage').style.display = 'none', 5000);
  }
}

// Exemplo: desbloqueia pr√≥ximo m√≥dulo ao clicar
lessonCards.forEach((card, i) => {
  card.addEventListener('click', () => {
    if (!card.classList.contains('locked')) {
      card.classList.add('completed');
      completedModules++;
      if(i+1 < lessonCards.length) lessonCards[i+1].classList.remove('locked');
      updateProgress();
    }
  });
});

/* ====== LANGUAGE TOGGLE ====== */
const langToggle = document.getElementById('languageToggle');
let currentLang = 'ru';
langToggle.addEventListener('click', () => {
  currentLang = currentLang === 'ru' ? 'pt' : 'ru';
  langToggle.textContent = currentLang.toUpperCase() === 'PT' ? 'RU' : 'PT';
  // Aqui poderia atualizar textos da p√°gina
});
</script>
</body>
</html>
