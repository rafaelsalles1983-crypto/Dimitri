<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Славянский клуб - Exercício Cruzado</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" type="image/png" href="images/dimitri-favicon.png">

<!-- Firebase Scripts -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
  // Configuração Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyCVt4eQOSUMhtKTUc89lAIM-AwrPakEOOI",
    authDomain: "clube-eslavo-dimitri.firebaseapp.com",
    projectId: "clube-eslavo-dimitri",
    storageBucket: "clube-eslavo-dimitri.firebasestorage.app",
    messagingSenderId: "696802076277",
    appId: "1:696802076277:web:3be4a9fb64001e25cefa3c",
    measurementId: "G-1H63WPQT0V"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  auth.onAuthStateChanged((user) => {
    const logoutBtn = document.getElementById("logoutBtn");
    if (!user) {
      localStorage.setItem("redirectAfterLogin", "crossword.html");
      window.location.href = "login.html";
    } else {
      console.log("Usuário logado:", user.email);
      if(logoutBtn) logoutBtn.style.opacity = 1;
    }
  });
</script>

<style>
/* Menu responsivo */
nav ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  gap: 15px;
}

nav ul li a {
  text-decoration: none;
  padding: 8px 12px;
  display: block;
  color: #333;
}

@media screen and (max-width:768px){
  nav {
    display:none;
    position:absolute;
    top:60px;
    left:0;
    width:100%;
    background:#eee;
    flex-direction:column;
    padding:10px 0;
    z-index:2000;
  }
  nav.show { display:flex; }
  nav ul { flex-direction:column; gap:0; }
  nav ul li a { text-align:center; padding:12px 20px; width:100%; }
}
</style>

</head>
<body>
<header style="position:relative; padding:15px 20px; background:#eee;">
  <button id="menuToggle" style="position:absolute; top:15px; left:20px; font-size:1.5em; background:none; border:none; cursor:pointer;">☰</button>
  <span style="font-weight:bold; font-size:1.2em;">Славянский клуб</span>
  <a href="#" id="logoutBtn" class="btn" style="position:absolute; top:15px; right:20px; opacity:0; transition:opacity 0.5s;">Sair</a>
</header>

<nav>
  <ul>
    <li><a href="index.html" onclick="saveChatState()">Перетаскивание</a></li>
    <li><a href="crossword.html" onclick="saveChatState()">Прогресс</a></li>
    <li><a href="exercises.html" onclick="saveChatState()">упражнения</a></li>
    <li><a href="#" onclick="saveChatState(); return false;">Кто мы</a></li>
    <li><a href="contact.html" onclick="saveChatState()">Контакт</a></li>
  </ul>
</nav>

<script>
const menuToggle = document.getElementById('menuToggle');
const nav = document.querySelector('nav');

menuToggle.addEventListener('click', () => {
  nav.classList.toggle('show');
  // Alterna ícone entre ☰ e ✖
  menuToggle.textContent = nav.classList.contains('show') ? '✖' : '☰';
});

// Fecha menu ao clicar em um link
const navLinks = document.querySelectorAll('nav ul li a');
navLinks.forEach(link=>{
  link.addEventListener('click', ()=>{
    if(window.innerWidth <= 768){
      nav.classList.remove('show');
      menuToggle.textContent = '☰';
    }
  });
});
</script>

<div class="main-content">
  <div id="progressContainer">
    <div id="progressText"></div>
    <div id="progressBarContainer">
      <div id="progressBar"></div>
    </div>
  </div>
  <div id="cruzadoContainer" class="content"></div>
</div>

<!-- Exercícios cruzados -->
<script>
// ... (mesmo código de exercícios cruzados que você já tinha)
</script>

<script>
function saveChatState(){
  const chatData = {lastVisited:new Date().toISOString(), notes:"Usuário abriu um link do menu"};
  localStorage.setItem('chatState', JSON.stringify(chatData));
  console.log('Estado do chat salvo:', chatData);
}
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const logoutBtn = document.getElementById("logoutBtn");
  if(logoutBtn){
    logoutBtn.addEventListener("click", (e)=>{
      e.preventDefault();
      auth.signOut().then(()=>{
        localStorage.removeItem("redirectAfterLogin");
        window.location.href="index.html";
      });
    });
  }
});
</script>

</body>
</html>
